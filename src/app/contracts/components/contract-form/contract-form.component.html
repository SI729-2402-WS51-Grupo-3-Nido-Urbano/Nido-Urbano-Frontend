<div class="container">
  <h2>Datos del Contrato</h2>
  <form [formGroup]="contractForm" (ngSubmit)="generateContract()">
    <div class="form-group">
      <label for="property">Propiedad</label>
      <select id="property" class="form-control" formControlName="property">
        <option *ngFor="let property of properties" [ngValue]="property">{{property.name}}</option>
      </select>
    </div>

    <div class="form-group">
      <label for="tenant">Inquilino</label>
      <input id="tenant" type="text" class="form-control" formControlName="tenant" placeholder="Nombre del inquilino" readonly>
    </div>

    <div class="form-group" *ngIf="contractForm.get('property')?.value?.house_modality === 'rental'">
      <label for="startDate">Fecha de inicio</label>
      <input id="startDate" type="date" class="form-control" formControlName="startDate">
    </div>

    <div class="form-group" *ngIf="contractForm.get('property')?.value?.house_modality === 'rental'">
      <label for="endDate">Fecha de fin</label>
      <input id="endDate" type="date" class="form-control" formControlName="endDate">
    </div>
    <div class="form-group">
      <label for="signature">Firma electrónica</label>
      <input type="file" (change)="onFileSelected($event)" class="form-control" accept="image/*" />
    </div>
    <!-- Vista previa de los Términos y Condiciones -->
    <div class="form-group">
      <h4>Términos y Condiciones</h4>
      <p>{{ contractForm.get('property')?.value?.terms?.description || 'No hay términos disponibles' }}</p>
    </div>
    <div class="form-group">
      <label>
        <input type="checkbox" formControlName="termsAgreed" /> Acepto los términos y condiciones
      </label>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn btn-generate" [disabled]="contractForm.invalid">
        Generar Contrato
      </button>
      <button type="button" class="btn btn-cancel" (click)="cancelContract()">
        Cancelar Contrato
      </button>
    </div>
  </form>
</div>
<div *ngIf="contractSent && !contractConfirmed" class="notification" [ngClass]="{'show': contractSent}">
  Contrato enviado al propietario. Esperando confirmación...
</div>
<!--(simulado) -->
<div *ngIf="contractSent && !contractConfirmed">
  <button class="btn-confirm" (click)="confirmContract()">Confirmar Contrato</button>
</div>


